<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- 视口与沉浸式全屏设置 -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="theme-color" content="#0f172a" />

    <title>Chatra 全屏页面</title>

    <style>
      /* ===== 基础全屏与安全区处理 ===== */
      :root { --vh: 1vh; }
      html, body { height: 100%; margin: 0; }
      /* 使用 100dvh + 回退变量，解决移动端地址栏伸缩导致的视口抖动 */
      body {
        min-height: 100dvh;
        min-height: calc(var(--vh, 1vh) * 100);
        background: #0f172a; /* 深色背景 */
        color: #e5e7eb;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
        overscroll-behavior: none; /* 禁止下拉回弹 */
      }

      /* 全屏容器 */
      .fullscreen {
        position: relative;
        width: 100vw;
        height: 100dvh;
        height: calc(var(--vh, 1vh) * 100);
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden; /* 避免滚动条 */
        padding-top: env(safe-area-inset-top);
        padding-bottom: env(safe-area-inset-bottom);
        padding-left: env(safe-area-inset-left);
        padding-right: env(safe-area-inset-right);
      }

      /* 居中内容样式 */
      .card {
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.12);
        border-radius: 20px;
        backdrop-filter: blur(6px);
        -webkit-backdrop-filter: blur(6px);
        padding: 24px 28px;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0,0,0,.3);
        max-width: 90vw;
      }

      .title {
        font-size: clamp(18px, 4vw, 28px);
        line-height: 1.25;
        margin: 0 0 8px 0;
        color: #ffffff;
      }

      .subtitle {
        margin: 0;
        opacity: .85;
        font-size: clamp(13px, 2.8vw, 16px);
      }

      /* 防止长按触发系统菜单，提高触控体验 */
      * { -webkit-touch-callout: none; -webkit-tap-highlight-color: transparent; }
    </style>
  </head>
  <body>
    <div class="fullscreen">
      <div class="card">
        <h1 class="title">Chatra 已注入</h1>
        <p class="subtitle">本页面为移动端友好的全屏容器，已集成在线客服脚本。</p>
      </div>
    </div>

    <script>
      // ===== 处理移动端地址栏导致的视口高度问题：设置 --vh 单位 =====
      (function() {
        const setVh = () => {
          const vh = window.innerHeight * 0.01;
          document.documentElement.style.setProperty('--vh', `${vh}px`);
        };
        setVh();
        window.addEventListener('resize', setVh);
        window.addEventListener('orientationchange', setVh);
      })();
    </script>

    <!-- Chatra {literal} -->
    <script>
      (function(d, w, c) {
        w.ChatraID = 'XsDMikh4hMey6B6Ro';
        var s = d.createElement('script');
        w[c] = w[c] || function() {
          (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = 'https://call.chatra.io/chatra.js';
        if (d.head) d.head.appendChild(s);
      })(document, window, 'Chatra');
    </script>
    <!-- /Chatra {/literal} -->
  </body>
</html>
